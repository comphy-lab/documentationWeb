<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Basic SEO Meta Tags -->
    <meta name="description" content="$if(description)$$description$$else$Computational fluid dynamics simulations using Basilisk C framework.$endif$">
    <meta name="author" content="Computational Multiphase Physics Laboratory">
    <meta name="keywords" content="$if(keywords)$$keywords$$else$fluid dynamics, CFD, Basilisk, multiphase flow, computational physics$endif$">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="$wikititle$ - $pagetitle$">
    <meta property="og:description" content="$if(description)$$description$$else$Computational fluid dynamics simulations using Basilisk C framework.$endif$">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://test.comphy-lab.org$pageUrl$">
    <meta property="og:image" content="$if(image)$$image$$else$https://test.comphy-lab.org/assets/logos/CoMPhy-Lab.svg$endif$">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://test.comphy-lab.org$pageUrl$">
    
    <title>$wikititle$ - $pagetitle$</title>

    <!-- Critical CSS -->
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --text-color: #333;
            --background-color: #fff;
            --code-background: #f5f5f5;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        pre, code {
            background: var(--code-background);
            border-radius: 4px;
            padding: 0.2em 0.4em;
        }
        
        pre {
            padding: 1em;
            overflow-x: auto;
        }
    </style>

    <!-- Preload Critical Resources -->
    <link rel="preload" href="$base$/assets/css/styles.css" as="style">
    <link rel="preload" href="$base$/assets/css/custom_styles.css" as="style">
    <link rel="preload" href="$base$/assets/js/main.js" as="script">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="$base$/assets/logos/CoMPhy-Lab.svg">
    <link rel="apple-touch-icon" href="$base$/assets/logos/CoMPhy-Lab.svg">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="$base$/assets/css/styles.css">
    <link rel="stylesheet" href="$base$/assets/css/custom_styles.css">
    <link rel="stylesheet" href="$base$/assets/css/command-palette.css">
    <link rel="stylesheet" href="$base$/assets/css/vendor.css">
    
    <!-- KaTeX for Math -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css">
    
    <!-- jQuery and UI -->
    <script src="$base$/js/jquery.min.js"></script>
    <script src="$base$/js/jquery-ui.packed.js"></script>
    <script src="$base$/js/plots.js"></script>
    
    <!-- KaTeX -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js"></script>
    
    <!-- Command Palette -->
    <script src="$base$/assets/js/command-palette.js"></script>
    <script src="$base$/assets/js/command-data.js"></script>
    <script src="$base$/assets/js/shortcut-key.js"></script>
</head>
<body>
    <div class="container">
        <header class="site-header">
            <nav class="main-nav">
                <a href="$base$/" class="logo">
                    <img src="$base$/assets/logos/CoMPhy-Lab.svg" alt="CoMPhy-Lab Logo" height="40">
                </a>
                <div class="nav-links">
                    <a href="$base$/Tutorial">Tutorial</a>
                    <a href="$base$/src/INSTALL">Installation</a>
                    <a href="$base$/Basilisk C">Basilisk C</a>
                    <a href="$base$/src/README">Solvers</a>
                    <a href="$base$/src/examples/README">Examples</a>
                </div>
            </nav>
        </header>

        <main class="content">
            $if(tabs)$
            <nav class="page-tabs">
                $tabs$
            </nav>
            $endif$

            <div class="page-content">
                $if(revision)$
                <div class="revision-info">Revision $revision$</div>
                $endif$

                $if(notitle)$
                $else$
                <h1 class="page-title">$pagetitle$</h1>
                $endif$

                $if(toc)$
                <nav class="table-of-contents" id="$idprefix$TOC">
                    $toc$
                </nav>
                $endif$

                $body$
            </div>
        </main>

        <footer class="site-footer">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="$base$/assets/logos/CoMPhy-Lab.svg" alt="CoMPhy-Lab Logo" height="30">
                </div>
                <div class="footer-links">
                    <a href="$base$/Help">Help</a>
                    <a href="http://groups.google.com/d/forum/basilisk-fr">Forum</a>
                    <a href="$base$/src/Contributing">Contribute</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Command Palette Modal -->
    <div id="command-palette" class="command-palette">
        <div class="command-palette-content">
            <input type="text" id="command-input" placeholder="Type a command or search...">
            <div id="command-results"></div>
        </div>
    </div>

    <!-- Main JavaScript -->
    <script src="$base$/assets/js/main.js"></script>
</body>
</html>
